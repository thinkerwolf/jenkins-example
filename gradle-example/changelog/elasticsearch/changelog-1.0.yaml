elasticsearchChangeLog:
  - changeSet:
      id: gradle-example-es-1.0.0.0-01
      author: bruce.wu
      comment: test
      changes:
        - method: PUT
          path: /test_media_detail_nov
          body: |-
            {"settings":{"index":{"number_of_shards":"2","analysis":{"analyzer":{"icu_sample":{"filter":["icu_normalizer"],"tokenizer":"icu_tokenizer"}}},"number_of_replicas":"1"}},"mappings":{"dynamic":"false","_all":{"enabled":false},"properties":{"adult":{"type":"integer"},"akas":{"type":"nested","dynamic":"false","properties":{"aka":{"type":"keyword"},"country":{"type":"keyword"},"language":{"type":"keyword"},"workingTitle":{"type":"integer"}}},"assertProviders":{"type":"keyword"},"audioLanguageNo":{"type":"integer"},"brandId":{"type":"long"},"casts":{"type":"nested","dynamic":"false","properties":{"jobType":{"type":"integer"},"name":{"type":"text"},"order":{"type":"integer"},"personId":{"type":"long"},"role":{"type":"keyword"},"sourceId":{"type":"keyword"},"starMeter":{"type":"integer"}}},"certifications":{"type":"nested","dynamic":"false","properties":{"certificate":{"type":"keyword"},"country":{"type":"keyword"},"countryCode":{"type":"keyword"}}},"cids":{"type":"keyword"},"clouds":{"type":"integer"},"cloudsAudioLanguage":{"type":"keyword"},"companies":{"type":"keyword"},"connectedTime":{"type":"long"},"contentProviders":{"type":"nested","dynamic":"false","properties":{"endTs":{"type":"long"},"oldGooseId":{"type":"long"},"ownerAccount":{"type":"text"},"ownerId":{"type":"long"},"startTs":{"type":"long"}}},"countries":{"type":"long"},"createTime":{"type":"date","format":"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"},"displayId":{"type":"keyword"},"documentId":{"type":"keyword"},"drmLevelCode":{"type":"keyword"},"drmLevelName":{"type":"keyword"},"drmName":{"type":"keyword"},"drmType":{"type":"keyword"},"episode":{"type":"integer"},"episodeNo":{"type":"integer"},"firstAirDate":{"type":"keyword"},"firstAirDateInt":{"type":"integer"},"firstLanguage":{"type":"keyword"},"genres":{"type":"long"},"hasArtwork":{"type":"integer"},"hasEnglish":{"type":"integer"},"hdcpLevelCode":{"type":"keyword"},"hdcpLevelName":{"type":"keyword"},"id":{"type":"long"},"imdbId":{"type":"keyword"},"isEncrypted":{"type":"integer"},"keywords":{"type":"nested","dynamic":"false","properties":{"keywords":{"type":"text","analyzer":"standard"},"language":{"type":"keyword"}}},"kidsBrandIds":{"type":"long"},"lacAlloweds":{"type":"keyword"},"lacDenieds":{"type":"keyword"},"languages":{"type":"keyword"},"lastAirDate":{"type":"keyword"},"lastAirDateInt":{"type":"integer"},"latestEpisode":{"type":"integer"},"latestSeason":{"type":"integer"},"limitLevel":{"type":"integer"},"linkedLastAirDate":{"type":"keyword"},"linkedLastAirDateInt":{"type":"integer"},"lmt":{"type":"long"},"mediaFormat":{"type":"double"},"mediaParentsControls":{"type":"nested","dynamic":"false","properties":{"pconId":{"type":"keyword"},"pconLevel":{"type":"integer"},"pconSystem":{"type":"keyword"},"pconSystemId":{"type":"keyword"}}},"mediaSubtitles":{"type":"nested","dynamic":"false","properties":{"assetId":{"type":"long"},"order":{"type":"integer"},"subtitleLanguage":{"type":"keyword"},"subtitleType":{"type":"integer"},"subtitleUrl":{"type":"keyword"},"title":{"type":"keyword"},"urlType":{"type":"integer"}}},"mediaType":{"type":"integer"},"mediaVideos":{"type":"nested","dynamic":"false","properties":{"assetMediaId":{"type":"long"},"cid":{"type":"long"},"epgId":{"type":"keyword"},"epgName":{"type":"keyword"},"epgSourceStatus":{"type":"integer"},"fileId":{"type":"keyword"},"mediaLanguages":{"type":"keyword"},"mediaQuality":{"type":"integer"},"mediaSubtitles":{"type":"keyword"},"mediaUrl":{"type":"keyword"},"playSourceModel":{"type":"integer"},"playbackValidTime":{"type":"long"},"programName":{"type":"keyword"},"sourceId":{"type":"keyword"},"startTime":{"type":"long"},"stopTime":{"type":"long"},"vnoId":{"type":"long"}}},"metaId":{"type":"keyword"},"metaSourceType":{"type":"integer"},"originalTitle":{"type":"text"},"pconLevel":{"type":"integer"},"peliplatId":{"type":"keyword"},"pinyin":{"type":"text","analyzer":"standard"},"playbackPopularity":{"type":"nested","include_in_parent":true,"properties":{"brandId":{"type":"long"},"playTimes":{"type":"integer"}}},"playlists":{"type":"nested","properties":{"playlistId":{"type":"long"},"showSeq":{"type":"long"}}},"popularity":{"type":"double"},"posters":{"type":"nested","dynamic":"false","properties":{"height":{"type":"integer"},"language":{"type":"keyword"},"posterId":{"type":"long"},"posterQuality":{"type":"integer"},"posterType":{"type":"integer"},"url":{"type":"keyword"},"width":{"type":"integer"}}},"ppId":{"type":"keyword"},"rating":{"type":"double"},"ratings":{"type":"nested","dynamic":"false","properties":{"lastUpdateTime":{"type":"keyword"},"ratingCount":{"type":"integer"},"ratingSource":{"type":"keyword"},"score":{"type":"double"}}},"release":{"type":"nested","dynamic":"false","properties":{"countryCode":{"type":"keyword"},"date":{"type":"keyword"},"dateInt":{"type":"integer"},"type":{"type":"integer"}}},"releaseCountryCode":{"type":"keyword"},"releaseDate":{"type":"keyword"},"releaseDateInt":{"type":"integer"},"runtime":{"type":"long"},"searchClickTimes":{"type":"nested","include_in_parent":true,"properties":{"brandId":{"type":"long"},"clickTimes":{"type":"integer"}}},"season":{"type":"integer"},"seasonId":{"type":"long"},"seasonNo":{"type":"integer"},"seasonTitle":{"type":"keyword"},"sensitive":{"type":"integer"},"seriesId":{"type":"long"},"seriesTitle":{"type":"keyword"},"similars":{"type":"keyword"},"sourceType":{"type":"keyword"},"status":{"type":"integer"},"summaries":{"type":"nested","dynamic":"false","properties":{"backdrop":{"type":"keyword"},"language":{"type":"keyword"},"plot":{"type":"keyword"},"poster":{"type":"keyword"},"taglines":{"type":"keyword"},"title":{"type":"text"}}},"syncType":{"type":"integer"},"tags":{"type":"nested","properties":{"showSeq":{"type":"double"},"tagId":{"type":"keyword"}}},"tinyTitle":{"type":"nested","dynamic":"false","properties":{"content":{"type":"text","analyzer":"standard"},"language":{"type":"keyword"}}},"tmdbId":{"type":"long"},"trailers":{"type":"nested","dynamic":"false","properties":{"keyStr":{"type":"keyword"},"language":{"type":"keyword"},"mediaId":{"type":"long"},"order":{"type":"integer"},"playSourceModel":{"type":"integer"},"size":{"type":"integer"},"source":{"type":"keyword"},"title":{"type":"text"},"trailerDuration":{"type":"integer"},"trailerQuality":{"type":"integer"},"trailerSubtitle":{"type":"keyword"},"trailerUrl":{"type":"keyword"},"type":{"type":"keyword"}}},"ver":{"type":"long"},"vnoId":{"type":"long"},"vnoIds":{"type":"keyword"},"voteCount":{"type":"integer"},"weightRating":{"type":"double"},"year":{"type":"integer"}}}}
        - method: PUT # elastic api method: GET,PUT,POST,DELETE,HEAD,OPTIONS
          path: /test_media_nov_search_index
          body: |-
            {"settings":{"index":{"number_of_shards":"2","number_of_replicas":"1"}}, "mappings":{"properties":{"brandId":{"type":"long"},"certifications":{"properties":{"attribute":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"certificate":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"country":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"countryCode":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}}}},"companies":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"connectedTime":{"type":"long"},"countries":{"type":"long"},"createTime":{"type":"long"},"documentId":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"episode":{"type":"long"},"firstAirDateInt":{"type":"long"},"firstLanguage":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"genres":{"type":"long"},"id":{"type":"long"},"lastAirDateInt":{"type":"long"},"lastConnectedTime":{"type":"long"},"linkedLastAirDateInt":{"type":"long"},"mediaSeq":{"type":"long"},"mediaType":{"type":"long"},"metaId":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"originalTitle":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"popularity":{"type":"float"},"ppId":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"publishLastModifyTime":{"type":"long"},"rating":{"type":"float"},"releaseDateInt":{"type":"long"},"season":{"type":"long"},"seasonId":{"type":"long"},"sensitive":{"type":"long"},"seriesId":{"type":"long"},"status":{"type":"long"},"syncType":{"type":"long"},"tmdbId":{"type":"long"},"vnoId":{"type":"long"},"weightRating":{"type":"float"},"year":{"type":"long"}}}}
